<div class="row mb-3">
	<div class="col-12">
		<div class="card bg-100 shadow-none border mb-0">
			<div class="card-body p-1 pb-0">
				<div class="row gx-0 p-2 pb-0 mb-0 flex-between-center" id="header-top">
					<div class="col-auto ps-2">
						<div>
							<h6 class="fs-10 mb-0">
								<%= link_to events_path, class: "text-decoration-none text-muted mb-1 d-block" do %>
									<i class="bi bi-arrow-left" data-fa-transform="shrink-4 down-1"></i> Back to Events
								<% end %>
							</h6>
							<h4 class="text-primary fw-bold mb-0">
								Event:
								<span class="text-info fw-medium"><%= @event.title %></span>
							</h4>
						</div>
					</div>
					<div class="col-auto">
						<%= link_to "Display", display_event_path(@event), class: "btn btn-danger btn-sm" %>

						<% if @event.active? %>
							<%= link_to deactivate_event_path(@event),
								data: { turbo_method: :patch, turbo_confirm: "Deactivate #{@event.title}?" },
								class: "btn btn-outline-warning btn-sm" do %>
							<span class="fas fa-eye-slash me-1"></span> Deactivate
							<% end %>
						<% else %>
							<%= link_to activate_event_path(@event),
								data: { turbo_method: :patch },
								class: "btn btn-outline-success btn-sm" do %>
							<span class="fas fa-eye me-1"></span> Activate
							<% end %>
						<% end %>

						<%= link_to edit_event_path(@event), class: "btn btn-outline-secondary btn-sm" do %>
							<span class="fas fa-edit me-1"></span> Edit
						<% end %>
					</div>
				</div>
				<div class="row gx-0 p-2" id="header-info">
					<div class="col-3 text-start">
						<h6 class="text-muted fs-10 mb-0">
							<% if @event.upcoming? %>
								<span class="badge bg-info ms-2">Upcoming</span>
							<% elsif @event.in_progress? %>
								<span class="badge bg-success ms-2">In Progress</span>
							<% else %>
								<span class="badge bg-secondary ms-2">Completed</span>
							<% end %>

							<% if @event.active? %>
								<span class="badge bg-success ms-2"><span class="fas fa-eye me-1"></span> Active</span>
							<% else %>
								<span class="badge bg-secondary ms-2"><span class="fas fa-eye-slash me-1"></span> Inactive</span>
							<% end %>
						</h6>
					</div>
					<div class="col-6 text-center">
						<h6 class="text-muted fs-10 mb-0 pt-1">
							<%= @event.start_date.strftime("%B %d, %Y") %>
							-
							<%= @event.end_date.strftime("%B %d, %Y") %>
						</h6>
					</div>
					<div class="col-3 text-end"></div>
				</div>
				<% if false %>
					<div class="row gx-0 p-2 bg-700 text-200" id="header-toolbar">
						<div class="col-4 text-200 text-start"><!-- left admin controls --></div>
						<div class="col-4 text-200 text-center"><!-- center admin controls --></div>
						<div class="col-4 text-200 text-end"><!-- right admin controls --></div>
					</div>
				<% end %>
			</div>
		</div>
	</div>
</div>

<%# Games and Posts %>
<div class="row mb-3">
	<div class="col-6">
		<div class="card">
			<div class="card-header border-bottom p-2">
				<div class="row flex-between-center">
					<div class="col-auto">
						<h5 class="m-0">Games</h5>
					</div>
					<div class="col-auto">
						<%= link_to new_game_path(event_id: @event.id), class: "btn btn-primary btn-sm" do %>
							<span class="fas fa-plus me-1"></span> New Game
						<% end %>
					</div>
				</div>
			</div>
			<div class="card-body p-0">
				<!-- top section: currently ongoing games -->
				<% if @event.games.in_progress.any? %>
					<div>Games in Progress</div>
					<div class="row mb-1">
						<div class="col">
							<% @event.games.in_progress.earliest_first.each do |game| %>
								<%= render "games/components/upcoming_game_list_item", game: game %>
							<% end %>
						</div>
					</div>
				<% end %>

				<!-- 2nd section: upcoming games, earliest-first -->
				<% if @event.games.upcoming.any? %>
					<div>Upcoming Games</div>
					<div class="row mb-1">
						<div class="col">
							<% @event.games.upcoming.earliest_first.each do |game| %>
								<%= render "games/components/upcoming_game_list_item", game: game %>
							<% end %>
						</div>
					</div>
				<% end %>


				<!-- 3rd section: completed games, latest first -->
				<% if @event.games.completed.any? %>
					<div>Completed Games</div>
					<div class="row mb-1">
						<div class="col">
							<% @event.games.completed.latest_first.each do |game| %>
								<%= render "games/components/upcoming_game_list_item", game: game %>
							<% end %>
						</div>
					</div>
				<% end %>
				

			</div>
		</div>
	</div>
	<div class="col-6">
		<div class="card">
			<div class="card-header border-bottom p-2">
				<div class="row flex-between-center">
					<div class="col-auto">
						<h5 class="m-0">Posts</h5>
					</div>
					<div class="col-auto">button</div>
				</div>
			</div>
			<div class="card-body p-0">stuff</div>
		</div>
	</div>

</div>