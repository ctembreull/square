<div class="row mb-3">
	<div class="col">
		<div class="card bg-100 shadow-none border py-2">
			<div class="row gx-0 flex-between-center">
				<div class="col-sm-auto d-flex align-items-center"><img class="ms-n2" src="" alt="" width="90">
					<div>
						<h6 class="text-primary fs-10 mb-0">Welcome to </h6>
						<h4 class="text-primary fw-bold mb-0">
							Squares
							<span class="text-info fw-medium">Teams Management</span>
						</h4>
					</div>
				</div>
				<div class="col-md-auto p-3">
					<%= link_to "Create New Team", new_team_path, class: "btn btn-primary btn-sm btn-outline" %>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row g-3 mb-3">
	<div class="col">
		<div class="card" id="teamsTable">
			<div class="card-body px-0 pt-0 pb-0">
				<div id="tableTeams" data-list='{"valueNames": ["abbr", "name", "level", "affiliations", "colors", "styles", "created"], "page": 15, "pagination": true}'>
					<div class="card-header border-bottom border-200 px-0">
						<div class="d-lg-flex justify-content-between">
							<div class="row flex-between-center gy-2 px-x1">
								<div class="col-auto pe-0">
									<h5 class="mb-0">Teams</h5>
								</div>
								<div class="col-auto">
									<div class="input-group input-search-width">
										<input class="form-control form-control-sm shadow-none search" type="search" placeholder="Search" aria-label="search">
										<button class="btn btn-sm btn-outline-secondary border-300 hover-border-secondary" type="button">
											<span class="fa fa-search fs-10"></span>
										</button>
									</div>
								</div>
							</div>
							<div class="border-bottom border-200 my-3"><!-- empty --></div>
							<div class="d-flex align-items-center justify-content-between justify-content-lg-end px-x1"></div>
						</div>
					</div>
					<div class="table-responsive scrollbar">
						<table class="table table-sm table-striped fs-10 mb-0 overflow-hidden">
							<thead class="bg-200">
								<tr>
									<th class="text-900 sort" data-sort="abbr">Abbr</th>
									<th class="text-900 sort" data-sort="name">Name</th>
									<th class="text-900">Women's Name</th>
									<th class="text-900">Level</th>
									<th class="text-900">Affiliations</th>
									<th class="text-900">Colors</th>
									<th class="text-900">Styles</th>
									<th class="text-900 sort" data-sort="created">Created</th>
									<th class="text-900 text-end">Actions</th>
								</tr>
							</thead>
							<tbody class="list">
								<% if @teams.any? %>
									<% @teams.each do |team| %>
										<tr>
											<td class="abbr"><%= team.abbr %></td>
											<td class="name"><%= link_to team.display_name, team %></td>
											<td class="womens_name"><%= team.womens_name %></td>
											<td class="level"><%= team.level %></td>
											<td class="affiliations"><%= team.affiliations.count %></td>
											<td class="colors">0</td>
											<td class="styles">0</td>
											<td class="created"><%= team.created_at.strftime("%Y.%m.%d.%H%M") %></td>
											<td class="text-end pe-2">
												<button class="btn btn-link text-600 btn-sm dropdown-toggle dropdown-caret-none btn-reveal float-end" type="button" id="dropdown-team-<%= team.id %>" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                    			<span class="fas fa-ellipsis-h fs-10"></span>
                  			</button>
												<div class="dropdown-menu dropdown-menu-end border py-2" aria-labelledby="dropdown-team-<%= team.id %>" style="">
													<%= link_to "Edit", edit_team_path(team), class: "dropdown-item" %>
													<div class="dropdown-divider"></div>
													<%= link_to "Delete", team_path(team),
															data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this team?" },
															class: "dropdown-item text-danger" %>
												</div>
											</td>
										</tr>
									<% end %>
								<% else %>
									<tr><th colspan="8"> No teams yet</th></tr>
								<% end %>
							</tbody>
						</table>
					</div>
					<div class="d-flex justify-content-center my-3">
						<button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
						<ul class="pagination mb-0"></ul>
						<button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"></span></button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
